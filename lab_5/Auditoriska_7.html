<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Auditoriska-vezba_7_progressabar</title>
    <script src = "jquery/jquery.js"></script>
    <script src = "jquery/jquery-ui.js"></script>
    <link rel="stylesheet" href="jquery/jquery-ui.css">
    <style type="text/css">
        label{
            display: inline-block;
            width: 150px;
            margin:5px;
        }
        input{
            width:200px;
            margin:10px;
        }
        #progressbar{
            display: inline-block;
            width: 200px;
            height: 10px;
            border: solid black 1px;
        }

    </style>
    <script>
        $(function () {
            $("progressbar").progressbar({
                value:0
            });
            progressbarValue = $("#progressbar").find(".ui-progressbar-value");

            progressbarValue.css({
                "background" : 'red'
            });

            $('input[type=password]').keydown(function () {
                var score = calculateStrength($(this).val());

                if (score == 1) {
                    progressbarValue.css({
                        "background": 'red'
                    });
                } else if (score == 2) {
                    progressbarValue.css({
                        "background": 'yellow'
                    });
                } else if (score == 3) {
                    progressbarValue.css({
                        "background": 'green'
                    });
                }

           $("#progressbar").progressbar({
               value: score *33
           });

            });
        });

        $(function calculateStrength(password) {
            var result = 0;
            result += !/[a-zA-Z]+/.test(password) ? 0 : 1;
            result += /[0-9]+/.test(password)? 1 :0;
            var specialChars = "~!@#$%^&*()_+\"\\,.'"
                var check = function (string) {
                        for(i= 0 ; i<specialChars.length;i++){
                            if(string.indexOf(specialChars[i])> -1){
                                return true;
                            }
                        }
                        return false;
                }
            result += check(password) ? 1:0;
            console.log(result);
            return result;

        })
    </script>

</head>
<body>
   <br>
       <legend>Sample info:</legend>
        <label>Enter password:</label>
       <input type="password" id="first-name" placeholder="letters,digits and special signs"/>
       <div id="progressbar"></div>
   </form>
</body>
</html>
