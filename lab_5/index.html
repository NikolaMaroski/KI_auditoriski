<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <title>Auditoriska_7_autocomplete</title>
        <script src = "jquery/jquery.js"></script>
        <script src = "jquery/jquery-ui.js"></script>
        <link rel="stylesheet" href="jquery/jquery-ui.css">
    <style>
        label{
            display: inline-block;
            margin:20px;
            padding: 3px;
        }
    </style>
    <script>
        $.widget("custom.catautocomplete",$.ui.autocomplete,{
            _create:function () {
                this._super();
                this.widget().menu("option","items","> :not(.ui-autocomplete-category)");
            },
            _renderMenu: function () {
                var that = this,
                currentCategory = "";
                $.each(items,function (index,item) {
                    var li;
                    if(item.category != currentCategory){
                        ul.append("<li class='ui-autocomplete-category'>" + item.category + "</li>");
                        currentCategory = item.category;
                    }
                    li = that._renderItemData(ul,item);
                    if(item.category){
                        li.attr("aria-label",item.category + " : " + item.label);
                    }
                });
            }
        });

        $(function () {
            var data = [
                {label:"anders",category:""},
                {label:"andreas",category:""},
                {label:"antal",category:""},
                {label:"annggx10",category:"Products"},
                {label:"annggx1dfds",category:"Products"},
                {label:"annggx10dsfsd",category:"Products"},
                {label:"lafsreafk",category:"people"},
                {label:"lafsafkfddsg",category:"people"},
                {label:"lafsafkefag",category:"people"}
            ];
            $("#search").catcomplete({
                delay:0,
                source:data
            });
        });
    </script>

    </head>
<body>
<label for="search">Search:</label>
<input id="search">
</body>
</html>
